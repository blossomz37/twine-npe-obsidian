:: StoryTitle
Midnight at Starlight Cove

:: StoryData
{
  "ifid": "B2A4C6D8-E0F2-4A6B-8C0D-2E4F6A8B0C2D",
  "format": "SugarCube",
  "format-version": "2.30.0",
  "start": "Start"
}

:: StoryInit
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NPE Tension Axes
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
<<set $belonging to 0>>
<<set $trust to 0>>
<<set $revelation to 0>>
<<set $intimacy to 0>>
<<set $threat to 0>>
<<set $sanctuary to 10>>

/* Beat tracking */
<<set $currentBeat to 0>>
<<set $currentAct to "Ki">>

/* Loop attempt tracking */
<<set $loopAttempts to {}>>

/* Threshold tracking */
<<set $thresholdsReached to []>>

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Video Support
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
/* Map of available scene videos - set to true when video exists */
<<set $sceneVideos to {
  "scene_1": true,
  "scene_2": true,
  "scene_3": true,
  "scene_4": true,
  "scene_5": true,
  "scene_6": true,
  "scene_7": true,
  "scene_8": true,
  "scene_9": true,
  "scene_10": true,
  "scene_11": true,
  "scene_12": true,
  "scene_13": true
}>>

/* Video settings */
<<set $videosEnabled to true>>
<<set $videoPath to "https://xierykaufosmdkcxzfex.supabase.co/storage/v1/object/public/midnight-videos/">>

/* Image settings */
<<set $imagesEnabled to true>>
<<set $imagePath to "https://xierykaufosmdkcxzfex.supabase.co/storage/v1/object/public/midnight-images/">>

:: SceneVideo [widget nobr]
<<widget "scenevideo">><<set _vid to $args[0]>><<if $videosEnabled and $sceneVideos[_vid]>><<run (function(vid) { $(document).one(':passageend', function(ev) {
  var carousel = document.querySelector('.media-carousel');
  if (!carousel) {
    carousel = document.createElement('details');
    carousel.className = 'media-carousel';
    var summary = document.createElement('summary');
    summary.className = 'media-toggle';
    summary.innerHTML = 'ğŸ¬ View Scene Media';
    carousel.appendChild(summary);
    var inner = document.createElement('div');
    inner.className = 'media-carousel-inner';
    carousel.appendChild(inner);
    var passage = document.getElementById('passage-' + ev.passage.title.replace(/\s+/g, '-'));
    if (!passage) passage = document.querySelector('.passage');
    if (passage) passage.insertBefore(carousel, passage.firstChild);
  }
  var inner = carousel.querySelector('.media-carousel-inner');
  var container = document.createElement('div');
  container.className = 'scene-video-container media-item';
  var video = document.createElement('video');
  video.className = 'scene-video';
  video.muted = true;
  video.loop = true;
  video.playsInline = true;
  video.controls = true;
  video.preload = 'metadata';
  video.src = 'https://xierykaufosmdkcxzfex.supabase.co/storage/v1/object/public/midnight-videos/' + vid + '.mp4';
  container.appendChild(video);
  inner.appendChild(container);
}); })(_vid); >><<endif>><<endwidget>>

:: PassageImage [widget nobr]
<<widget "passageimage">><<set _img to $args[0]>><<if $imagesEnabled>><<run (function(img) { $(document).one(':passageend', function(ev) {
  var carousel = document.querySelector('.media-carousel');
  if (!carousel) {
    carousel = document.createElement('details');
    carousel.className = 'media-carousel';
    var summary = document.createElement('summary');
    summary.className = 'media-toggle';
    summary.innerHTML = 'ğŸ¬ View Scene Media';
    carousel.appendChild(summary);
    var inner = document.createElement('div');
    inner.className = 'media-carousel-inner';
    carousel.appendChild(inner);
    var passage = document.getElementById('passage-' + ev.passage.title.replace(/\s+/g, '-'));
    if (!passage) passage = document.querySelector('.passage');
    if (passage) passage.insertBefore(carousel, passage.firstChild);
  }
  var inner = carousel.querySelector('.media-carousel-inner');
  var container = document.createElement('div');
  container.className = 'passage-image-container media-item';
  var image = document.createElement('img');
  image.className = 'passage-image';
  image.src = 'https://xierykaufosmdkcxzfex.supabase.co/storage/v1/object/public/midnight-images/' + img + '.png';
  image.alt = 'Scene illustration';
  image.loading = 'lazy';
  container.appendChild(image);
  inner.insertBefore(container, inner.firstChild);
}); })(_img); >><<endif>><<endwidget>>

:: StoryCaption
<div class="npe-dashboard">
<strong>Act:</strong> $currentAct | <strong>Beat:</strong> $currentBeat

<div class="axis-display">
''Belonging:'' $belonging/15 | ''Trust:'' $trust/15
''Revelation:'' $revelation/10 | ''Intimacy:'' $intimacy/15
''Threat:'' $threat/12 | ''Sanctuary:'' $sanctuary/10
</div>
</div>

:: Start
<<passageimage "01_start">>
<<set $currentBeat to 1>>
<<set $currentAct to "Ki">>

The salt air hits you as you step out of your car.

Starlight Cove. Your fresh start. Your escape from everything the city burned out of you.

The diner sits at the edge of the boardwalk, its windows glowing amber against the dark water. Through the glass, you can see the counter you'll be working behind, the stools that will hold strangers who might become neighbors.

And beyond it allâ€”the tide-pool. Even from here, you swear you see it glow.

[[Enter the diner|Ki Freddy Arrives]]

:: Ki Freddy Arrives [ki]
<<passageimage "02_ki_freddy_arrives">>
<<scenevideo "scene_1">>
<<set $currentBeat to 3>>
<<set $belonging += 1>>

The bell above the door chimes as you push inside. Salt-heavy air mingles with the smell of coffee grounds and something sweetâ€”cinnamon, maybe, or brown sugar.

"You must be Freddy."

The cook is already sliding a mug toward you. Spiky blond hair, a wave-crest tattoo peeking from his sleeve. His smile is easy, welcoming.

"First late-night shift is always the weirdest," he says. "Town goes quiet after eleven. Just you, the coffee, andâ€”" He gestures toward the window. "â€”whatever's out there."

You follow his gaze. The tide-pool glimmers beyond the glass, impossibly bright for this hour. And on the rocks past the boardwalk, you could swear there's a figure. Tall. Still. Watching.

<<if not $loopAttempts["ki_doubt"]>>
	<<set $loopAttempts["ki_doubt"] to 0>>
<</if>>

[[Step outside to look at the tide-pool|Ki First Sighting]]
[[Focus on learning the diner routine|Diner Settling]]
<<if $loopAttempts["ki_doubt"] < 3>>[[This was a mistakeâ€”call someone back home|Ki Doubt Loop]]<</if>>

:: Ki Doubt Loop [ki]
<<passageimage "03_ki_doubt_loop">>
<<set $loopAttempts["ki_doubt"] += 1>>
<<set $belonging -= 1>>

<<if $loopAttempts["ki_doubt"] == 1>>
The phone rings twice before you hang up. What would you even say? You're here now. The cook glances over with understanding eyes.

"First nights are the hardest," he says.
<<elseif $loopAttempts["ki_doubt"] == 2>>
Your thumb hovers over the call button. The cook slides a cup of coffee toward you. "Give it a chance," he says softly. "Most of us came here running from something."

The tide-pool catches the moonlight. Almost beckoning.
<<else>>
You pocket the phone. There's nothing back there for you anymore. The cook nods, like he knows.

"Welcome to Starlight Cove," he says. "For real this time."
<</if>>

<<if $loopAttempts["ki_doubt"] >= 3>>
[[Look at the tide-pool|Ki First Sighting]]
<<else>>
[[Step outside to look at the tide-pool|Ki First Sighting]]
[[Focus on learning the diner routine|Diner Settling]]
[[Try calling again|Ki Doubt Loop]]
<</if>>

:: Diner Settling [ki]
<<passageimage "04_diner_settling">>
<<set $belonging += 1>>
<<set $currentBeat to 4>>

You spend the next hour learning the rhythms of the place. Where the extra napkins are stored. How the ancient espresso machine only works if you thump it twice on the left side. The way the cookâ€”Marcus, you learnâ€”hums old sea shanties while he scrubs the grill.

It's quiet. It's simple. It's exactly what you needed.

But your eyes keep drifting to the window. To the tide-pool's glow. To the empty rocks where that figure stood.

[[Step outside when the shift ends|Ki First Sighting]]

:: Ki First Sighting [ki]
<<passageimage "05_ki_first_sighting">>
<<scenevideo "scene_2">>
<<set $currentBeat to 6>>
<<set $revelation += 2>>
<<set $trust += 1>>

<<if $thresholdsReached.indexOf("FIRST_GLIMPSE") == -1>>
	<<set $thresholdsReached.push("FIRST_GLIMPSE")>>
<</if>>

The boardwalk creaks under your boots. The tide-pool is brighter than any natural thing should beâ€”blues and greens pulsing like a heartbeat.

And there he is.

On the rock outcrop, a tall figure stands barefoot, watching the water. Dark navy jacket. Hands curled gently at his sides, like he's feeling something you can't see.

The moonlight catches his arms, and for a momentâ€”

You blink. There's a shimmer there. Teal, luminescent. Wrong for human skin.

He turns. Your eyes meet. His are dark, fathomless, patient. He doesn't smile. Doesn't frown. Just... sees you.

Then he turns back to the water and walks toward the tide-pool with a grace that doesn't quite match human joints.

<<if not $loopAttempts["first_sighting"]>>
	<<set $loopAttempts["first_sighting"] to 0>>
<</if>>

[[Follow him to the tide-pool|Ki Kai Routine]]
[[Watch from the boardwalk, let him go|Ki Kai Routine Distant]]
<<if $loopAttempts["first_sighting"] < 3>>[[Convince yourself it was nothingâ€”go home|First Sighting Denial]]<</if>>

:: First Sighting Denial [ki]
<<passageimage "06_first_sighting_denial">>
<<set $loopAttempts["first_sighting"] += 1>>

<<if $loopAttempts["first_sighting"] == 1>>
You shake your head. Trick of the light. You walk toward your car, but glance backâ€”

He's still there, waiting. The shimmer pulses once.
<<elseif $loopAttempts["first_sighting"] == 2>>
Just exhaustion. First week nerves. You turn away, but your feet don't move.

The shimmer pulses again, like a heartbeat. Like an invitation.
<<else>>
Your keys are in your hand. But the tide-pool glows brighter, and you realize:

You didn't come here to look away.
<</if>>

<<if $loopAttempts["first_sighting"] >= 3>>
[[Approach the tide-pool|Ki Kai Routine]]
<<else>>
[[Follow him to the tide-pool|Ki Kai Routine]]
[[Watch from the boardwalk|Ki Kai Routine Distant]]
[[Walk to your car|First Sighting Denial]]
<</if>>

:: Ki Kai Routine Distant [ki]
<<passageimage "07_ki_kai_routine_distant">>
<<set $trust += 1>>
<<set $currentBeat to 8>>

You stay on the boardwalk, giving him space. Watching.

He kneels at the edge of the tide-pool, one hand disappearing into the glowing water. His shoulders relax, like coming home. Minutes pass. He doesn't move.

Then, without looking back, he inclines his head. The smallest acknowledgment.

//He knows you're there. He doesn't mind.//

As he slides into the water with impossible smoothness, you could swear you see his outline changeâ€”something larger, something other.

[[Return to the diner, thinking|Sho Quiet Night]]

:: Ki Kai Routine [ki]
<<passageimage "08_ki_kai_routine">>
<<scenevideo "scene_3">>
<<set $currentBeat to 9>>
<<set $sanctuary to 10>>
<<set $revelation += 1>>

You follow at a distance as he approaches the tide-pool.

He kneels at the water's edge, one hand slipping beneath the surface. The glow intensifies around his fingersâ€”responding to him.

You stop ten feet away. Close enough to see the tension leave his shoulders. The way his breathing slows to match the rhythm of the tide.

He speaks without turning. His voice is low, steady, like waves against a breakwater.

"You didn't run."

It's not a question.

<<if not $loopAttempts["kai_confront"]>>
	<<set $loopAttempts["kai_confront"] to 0>>
<</if>>

[["Should I have?"|Sho Quiet Night]]
[[Say nothingâ€”just watch|Sho Quiet Night Watch]]
<<if $revelation >= 3>>[["Show me what you really are"|First Reveal]]<</if>>
<<if $loopAttempts["kai_confront"] < 3>>[[Step backâ€”you're not ready for this|Kai Routine Loop]]<</if>>

:: Kai Routine Loop [ki]
<<passageimage "09_kai_routine_loop">>
<<set $loopAttempts["kai_confront"] += 1>>

<<if $loopAttempts["kai_confront"] == 1>>
You take a step back. He doesn't move, but something in the air shifts.

"Take your time," he says. "I've waited centuries. A few more minutes won't matter."
<<elseif $loopAttempts["kai_confront"] == 2>>
Another step. The tide-pool's glow dims slightly, like disappointment.

"Most people run," he says quietly. "I thought you might be different."
<<else>>
You stop retreating. Because he's right. You didn't come here to run.

"I'm still here," you say.

"Yes." And for the first time, something like warmth enters his voice. "You are."
<</if>>

<<if $loopAttempts["kai_confront"] >= 3>>
[[Stay and talk|Sho Quiet Night]]
<<else>>
[["Should I have run?"|Sho Quiet Night]]
[[Say nothingâ€”just watch|Sho Quiet Night Watch]]
[[Step back again|Kai Routine Loop]]
<</if>>

:: First Reveal [ki revelation]
<<passageimage "10_first_reveal">>
<<set $revelation += 2>>
<<set $trust += 2>>
<<set $intimacy += 1>>

<<if $thresholdsReached.indexOf("MONSTER_FORM_SEEN") == -1>>
	<<set $thresholdsReached.push("MONSTER_FORM_SEEN")>>
<</if>>

He turns to face you fully. In the moonlight, the shimmer on his arms intensifiesâ€”spreads.

"You're sure?"

You nod.

He closes his eyes. And //changes//.

The transformation is beautiful. Terrifying. His shoulders broaden, a ridge rising along his spineâ€”a spire-crest of something like coral and bone. His arms shift, split, sucker-glow blooming along their length.

When he opens his eyes again, they're the same. Patient. Watching. Waiting for you to run.

You don't.

"Kai," you say. "That's your name, right?"

"Yes." His voice is deeper now, resonant with the tide. "And you're Freddy. The one who doesn't look away."

[[Continue|Sho Quiet Night]]

:: Sho Quiet Night Watch [sho]
<<passageimage "11_sho_quiet_night_watch">>
<<set $trust += 1>>
<<set $currentAct to "ShÅ">>
<<set $currentBeat to 11>>

You say nothing. Just stand there as he tends to the water.

Eventually, he rises. Turns. Meets your eyes.

"Tomorrow," he says. "Same time. If you want to understand."

Then he's goneâ€”slipping into the water without a splash, his outline blurring into something larger, something with too many limbs.

You stand there for a long time after.

[[Return to the diner|Sho Quiet Night]]

:: Sho Quiet Night [sho]
<<passageimage "12_sho_quiet_night">>
<<scenevideo "scene_4">>
<<set $currentAct to "ShÅ">>
<<set $currentBeat to 12>>
<<set $trust += 3>>
<<set $belonging += 1>>

A week passes.

You work the late shift. You learn the regularsâ€”a handful of insomniacs, a trucker passing through, the elder who drinks sea-glass tea and watches the water like he's waiting for something.

And every night, strange things happen.

A door swings shut just before your fingers would have been caught. A mug slides across the counter to exactly where you're reaching. The coffee pot refills itself when you're not looking.

He's here. Helping. Unseen.

On the seventh night, you brew an extra coffee and leave it on the back step, facing the tide-pool.

<<if not $loopAttempts["quiet_night"]>>
	<<set $loopAttempts["quiet_night"] to 0>>
<</if>>

[[Say "thank you" aloud to the empty air|Sho Moonlit Walk]]
[[Leave the coffee silentlyâ€”let him come to you|Sho Moonlit Walk Silent]]
<<if $loopAttempts["quiet_night"] < 3>>[[Pretend you didn't notice|Quiet Night Loop]]<</if>>
<<if $trust < 2>>[[Call Marcus to stay late with you|Cook Night]]<</if>>

:: Quiet Night Loop [sho]
<<passageimage "13_quiet_night_loop">>
<<set $loopAttempts["quiet_night"] += 1>>

<<if $loopAttempts["quiet_night"] == 1>>
You wipe down the counter again. The salt shaker slides another inch toward you.

He's patient.
<<elseif $loopAttempts["quiet_night"] == 2>>
You check the locks twice. When you turn, the coffee pot is already on.

He's still here.
<<else>>
You stand at the back door. The tide-pool glows.

Okay. Fine.

You set down the coffee.
<</if>>

<<if $loopAttempts["quiet_night"] >= 3>>
[[Wait for him|Sho Moonlit Walk Silent]]
<<else>>
[[Say "thank you" aloud|Sho Moonlit Walk]]
[[Leave the coffee silently|Sho Moonlit Walk Silent]]
[[Keep pretending|Quiet Night Loop]]
<</if>>

:: Cook Night [sho]
<<passageimage "14_cook_night">>
<<set $belonging += 1>>

You call Marcus. He shows up twenty minutes later with a six-pack of local beer and a bag of late-night tacos.

"Weird vibes?" he asks, settling onto a stool.

"Something like that."

You don't tell him about the sliding mugs. The doors. The figure at the tide-pool. But he stays until closing anyway, cracking jokes about sea monsters and local legends.

When he leaves, he pauses at the door. "Whatever's out thereâ€”it's not bad. Just different. Town's full of different."

[[Consider his words|Sho Moonlit Walk Silent]]

:: Sho Moonlit Walk [sho]
<<passageimage "15_sho_moonlit_walk">>
<<scenevideo "scene_5">>
<<set $currentBeat to 18>>
<<set $intimacy += 5>>
<<set $trust += 2>>
<<set $revelation += 2>>

<<if $thresholdsReached.indexOf("HEAT_LEVEL_1") == -1 and $intimacy >= 4>>
	<<set $thresholdsReached.push("HEAT_LEVEL_1")>>
<</if>>

"Thank you," you say to the darkness.

For a long moment, nothing. Then footsteps on the boardwalkâ€”bare feet on weathered wood.

He appears from the shadows. Kai. In human form now, mostlyâ€”the teal shimmer still visible on his arms in the moonlight.

"You're welcome."

You walk together. Not touching, but close. The waves keep rhythm with your steps.

"The others are gone," he says eventually. "There used to be more of us. Guardians. But after the breach..."

He trails off. You don't push.

"I stayed," he continues. "Someone has to watch."

"The tide-pool?"

"And what's beneath it."

His hand brushes yoursâ€”accidental, or not. Your skin where he touched glows faintly, then fades.

"Sorry," he murmurs. "I forget. Human skin reacts."

[[Ask about the shimmer on his arms|Sho Sea Cave]]
[[Let the silence speakâ€”walk beside him without questions|Sho Sea Cave Silent]]
[[Reach for his hand deliberately|Almost Touch]]
[[Tell him about your own pastâ€”the city, the breakdown|Freddy Opens]]
<<if not $loopAttempts["moonlit_walk"]>><<set $loopAttempts["moonlit_walk"] to 0>><</if>>
<<if $loopAttempts["moonlit_walk"] < 3>>[[Make an excuse to leaveâ€”this is too fast|Moonlit Walk Loop]]<</if>>

:: Sho Moonlit Walk Silent [sho]
<<passageimage "16_sho_moonlit_walk_silent">>
<<set $currentBeat to 18>>
<<set $intimacy += 4>>
<<set $trust += 2>>

<<if $thresholdsReached.indexOf("HEAT_LEVEL_1") == -1 and $intimacy >= 4>>
	<<set $thresholdsReached.push("HEAT_LEVEL_1")>>
<</if>>

You say nothing. Just wait.

The next night, he's there when you step onto the back porch. Sitting on the railing, coffee cup empty beside him.

"You're patient," he says.

"I've got time."

Something shifts in his expressionâ€”not quite a smile, but close.

You walk together in silence. The waves keep rhythm with your steps. His hand brushes yours. You don't pull away.

[[Continue walking|Sho Sea Cave Silent]]

:: Moonlit Walk Loop [sho]
<<passageimage "17_moonlit_walk_loop">>
<<set $loopAttempts["moonlit_walk"] += 1>>

<<if $loopAttempts["moonlit_walk"] == 1>>
You stammer something about early morning. He nods, but his eyes hold yours.

You don't move.
<<elseif $loopAttempts["moonlit_walk"] == 2>>
You turn to go. Two steps. Three.

The tide-pool pulses behind you. You stop.
<<else>>
Your feet won't carry you away.

"Tomorrow," he says softly.

You nod. You'll be here.
<</if>>

<<if $loopAttempts["moonlit_walk"] >= 3>>
[[Tomorrow comes|Sho Sea Cave Silent]]
<<else>>
[[Stay a little longer|Sho Sea Cave Silent]]
[[Make an excuse|Moonlit Walk Loop]]
<</if>>

:: Almost Touch [sho]
<<passageimage "18_almost_touch">>
<<set $intimacy += 2>>
<<set $trust += 1>>

You reach for his hand deliberately. Your fingers intertwine with hisâ€”warm, slightly damp, with a texture that's not quite skin.

He freezes. Looks down at your joined hands. Then at you.

"You're sure?" His voice is rough.

"I'm sure."

For a moment, he holds on. Then, gently, he pulls away.

"Not yet," he says. "When you know everything. Thenâ€”if you still want toâ€”"

He doesn't finish. But when he walks you back to the diner, he stays closer than before.

[[Continue|Sho Sea Cave]]

:: Freddy Opens [sho]
<<passageimage "19_freddy_opens">>
<<set $trust += 2>>
<<set $belonging += 1>>

"I had a breakdown," you hear yourself say. "In the city. Burned out at a job that was eating me alive. Stopped sleeping. Stopped eating right. One day I just... couldn't get out of bed."

He listens without interrupting.

"I came here to start over. To find something simpler. Something real."

"Did you find it?"

You look at himâ€”this impossible creature who guards a glowing tide-pool at midnight.

"I think I'm starting to."

His expression softens. "Then we have something in common. I came here to hide. But I thinkâ€”" He glances at you. "â€”I might be finding something else."

[[Continue walking together|Sho Sea Cave]]

:: Sho Sea Cave [sho]
<<passageimage "20_sho_sea_cave">>
<<scenevideo "scene_6">>
<<set $currentBeat to 24>>
<<set $revelation += 1>>
<<set $intimacy += 2>>
<<set $belonging += 3>>

"There's something I want you to see," he says.

He leads you past the tide-pool, to a section of rock you'd never noticedâ€”a hidden stairway, worn smooth by centuries of use.

Down you go. Into the earth. Into his world.

The sea-cave walls glow with bioluminescent lifeâ€”blues and greens and soft purples, pulsing like breathing. The air is salt and something sweeter. Ancient.

At the bottom, a passage opens into darkness. Kai stops.

"This is where I live," he says quietly. "Where I guard. But you're not readyâ€”and neither am I."

He doesn't have to say: //not yet.//

You climb back up together. Side by side. His hand finds yours on the stairs.

<<if not $loopAttempts["sea_cave"]>><<set $loopAttempts["sea_cave"] to 0>><</if>>

[[Accept his paceâ€”you'll wait until he's ready|Ten Fade Wave]]
[[Ask what he's guardingâ€”press gently|Artifact Hint]]
[[Take his hand as you climb the stairs|Stair Intimacy]]
<<if $loopAttempts["sea_cave"] < 3>>[[Try to go deeper without permission|Sea Cave Loop]]<</if>>
<<if $revelation >= 5>>[["Show me what you really are"|Full Form Reveal]]<</if>>

:: Sho Sea Cave Silent [sho]
<<passageimage "21_sho_sea_cave_silent">>
<<set $currentBeat to 24>>
<<set $revelation += 1>>
<<set $intimacy += 2>>
<<set $belonging += 2>>

The nights blur together. Walks on the boardwalk. Silences that say more than words. His world opening to you, piece by piece.

One night, he takes you to the sea-cave stairway.

"Not all the way down," he says. "Not yet. But I want you to see."

The walls glow. Your breath catches.

[[Continue|Ten Fade Wave]]

:: Sea Cave Loop [sho]
<<passageimage "22_sea_cave_loop">>
<<set $loopAttempts["sea_cave"] += 1>>

<<if $loopAttempts["sea_cave"] == 1>>
You take a step past him. He doesn't stop youâ€”but his shoulders tense.

You hesitate.
<<elseif $loopAttempts["sea_cave"] == 2>>
Another step. The cave grows colder. Kai's eyes flash with something old.

"Please," he says.
<<else>>
You stop. Whatever's down there, it's not yours to take.

"I'll wait," you say.

He exhales. Something in him relaxes.

"Thank you."
<</if>>

<<if $loopAttempts["sea_cave"] >= 3>>
[[Climb back up together|Ten Fade Wave]]
<<else>>
[[Accept his pace|Ten Fade Wave]]
[[Push deeper|Sea Cave Loop]]
<</if>>

:: Artifact Hint [sho]
<<passageimage "23_artifact_hint">>
<<set $revelation += 2>>

"What are you guarding?" you ask softly.

He's quiet for a long moment.

"A shell," he says finally. "The Lunar Shell. It keeps this place... stable. Connected. Without it, the sanctuary would fade. And I would fade with it."

"Connected to what?"

He looks at you, decision in his eyes.

"To everywhere the tide touches. To the old world beneath this one. Toâ€”" He hesitates. "â€”things that would rather not stay connected."

"Like what attacked your people?"

His jaw tightens. "Yes. Like him."

[[Continue|Ten Fade Wave]]

:: Stair Intimacy [sho]
<<passageimage "24_stair_intimacy">>
<<set $intimacy += 2>>

You take his hand as you climb. His fingers tighten around yoursâ€”not quite human grip, but gentle.

Neither of you speaks. The bioluminescent walls pulse around you like a second heartbeat.

At the top, in the open air, he doesn't let go.

"Tomorrow?" you ask.

"Tomorrow."

[[Continue|Ten Fade Wave]]

:: Full Form Reveal [sho revelation]
<<passageimage "25_full_form_reveal">>
<<set $revelation += 3>>
<<set $intimacy += 2>>
<<set $trust += 2>>

<<if $thresholdsReached.indexOf("FULL_REVEAL") == -1>>
	<<set $thresholdsReached.push("FULL_REVEAL")>>
<</if>>

"Show me," you say. "All of it."

He turns to face you in the glowing dark of the cave.

"It's not beautiful. By human standards."

"Show me anyway."

The transformation unfolds like a flower blooming in reverseâ€”into something older, stranger. The spire-crest rises from his spine. His arms split and multiply, sucker-glow pulsing along their length. His eyes go deeper, darker, lit from within.

When it's done, he towers above you. Alien. Ancient.

//Beautiful.//

"Still here?" His voice echoes strangely now.

"Still here."

He makes a sound that might be a laugh.

[[Continue|Ten Fade Wave]]

:: Ten Fade Wave [ten]
<<passageimage "26_ten_fade_wave">>
<<scenevideo "scene_7">>
<<set $currentAct to "Ten">>
<<set $currentBeat to 30>>
<<set $sanctuary -= 5>>
<<set $threat += 5>>

<<if $thresholdsReached.indexOf("FADE_WAVE") == -1>>
	<<set $thresholdsReached.push("FADE_WAVE")>>
<</if>>

Something is wrong.

You feel it before you see itâ€”a wrongness in the air. The tide-pool's glow is dimmer than you've ever seen it. Flickering. Sick.

Kai's already at the water's edge when you arrive, hands submerged, face taut with concentration.

"The Shell," he says without turning. "Something's draining it."

Then you see them: tracks on the rocks. Too large. Too many limbs. Gouges in the stone that look like claw-marks.

Kai goes very still.

"He found me."

<<if not $loopAttempts["fade_wave"]>><<set $loopAttempts["fade_wave"] to 0>><</if>>

[[Go to himâ€”whatever's coming, you face it together|Ten Thalos Emerges]]
[[Ask who found him|Ten Thalos Emerges]]
<<if $loopAttempts["fade_wave"] < 3>>[[Strengthen the wards firstâ€”delay the confrontation|Fade Wave Loop]]<</if>>
<<if $trust >= 8>>[[Waitâ€”he'll tell you when he's ready|Freddy Finds Kai]]<</if>>

:: Fade Wave Loop [ten]
<<passageimage "27_fade_wave_loop">>
<<set $loopAttempts["fade_wave"] += 1>>

<<if $loopAttempts["fade_wave"] == 1>>
Kai presses power into the wards. They flicker brighter, then fade.

"The Shell is too weak," he murmurs.
<<elseif $loopAttempts["fade_wave"] == 2>>
He tries again. The tide-pool dims further.

Whatever is coming, it's not stopping for wards.
<<else>>
The glow gutters out completely. In the darkness, you hear it:

Waves breaking //wrong//.

"He's here," Kai whispers.
<</if>>

<<if $loopAttempts["fade_wave"] >= 3>>
[[Face it together|Ten Thalos Emerges]]
<<else>>
[[Try the wards again|Fade Wave Loop]]
[[Face it now|Ten Thalos Emerges]]
<</if>>

:: Freddy Finds Kai [ten]
<<passageimage "28_freddy_finds_kai">>
<<set $trust += 2>>
<<set $intimacy += 1>>

You don't go to him. You wait.

But he looks up anyway. Sees you standing there. And something in his faceâ€”terror, hope, desperationâ€”cracks open.

"You came."

"You knew I would."

He reaches for you. You take his hand.

"Together?" he asks.

"Together."

[[Face what's coming|Ten Thalos Emerges]]

:: Ten Thalos Emerges [ten]
<<passageimage "29_ten_thalos_emerges">>
<<scenevideo "scene_8">>
<<set $currentBeat to 33>>
<<set $threat += 4>>
<<set $sanctuary -= 1>>
<<set $trust -= 2>>
<<set $revelation += 3>>

<<if $thresholdsReached.indexOf("THALOS_ARRIVES") == -1>>
	<<set $thresholdsReached.push("THALOS_ARRIVES")>>
<</if>>

The water churns.

Something vast rises from the deepâ€”arms first, a dozen of them, dark against the moonlight. Then the mantle, the crest, the eyes that glow deep red like dying stars.

Thalos.

"Little guardian." The voice is like waves crushing against rock. "You've grown soft. Found yourself a pet."

Kai transforms. It happens in an instantâ€”spire-crest blazing, limbs splitting, bioluminescence flaring to life. He puts himself between you and the predator.

"Run," he says. "If you want to. I won't blame you."

But you see it now. All of it. What he is. What he's fighting for.

<<if not $loopAttempts["thalos_emerges"]>><<set $loopAttempts["thalos_emerges"] to 0>><</if>>

[[Stay. No matter what he looks like, he's still Kai.|Ten Intimacy And Threat]]
[[Shout a distractionâ€”draw Thalos's attention|Freddy Bait]]
[[Run to get help from the town|Town Warning]]
<<if $loopAttempts["thalos_emerges"] < 3>>[[Freezeâ€”you can't process what you're seeing|Thalos Loop]]<</if>>
[[Run and don't look back|Freddy Abandons]]

:: Thalos Loop [ten]
<<passageimage "30_thalos_loop">>
<<set $loopAttempts["thalos_emerges"] += 1>>

<<if $loopAttempts["thalos_emerges"] == 1>>
Your legs won't move. Kai glances back.

"Freddy. Go or stay. But choose."
<<elseif $loopAttempts["thalos_emerges"] == 2>>
Thalos laughs, the sound like drowning. Kai steps between you and the predator.

//Choose.//
<<else>>
Kai's handâ€”human-shaped, tremblingâ€”reaches back toward you.

You take it.
<</if>>

<<if $loopAttempts["thalos_emerges"] >= 3>>
[[Stand with him|Ten Intimacy And Threat]]
<<else>>
[[Stay|Ten Intimacy And Threat]]
[[Keep freezing|Thalos Loop]]
[[Run|Freddy Abandons]]
<</if>>

:: Freddy Abandons [ten ending]
<<passageimage "31_freddy_abandons">>
<<set $trust -= 10>>
<<set $belonging -= 5>>

You run.

You don't stop until you're in your car, then the highway. Starlight Cove shrinks in your mirror.

You never learn what happened to Kai. Whether he won. Whether he survived.

Some nights, you swear you see a shimmer in tide-pools far from any coast. A glow that might be beckoning.

But you never stop to look.

//THE END - Bad Ending//

[[Start Over|Start]]

:: Freddy Bait [ten]
<<passageimage "32_freddy_bait">>
<<set $threat += 1>>
<<set $trust += 2>>

"HEY!" Your voice cracks across the water. "OVER HERE!"

Thalos's attention snaps to you. Those red eyes narrow.

"Brave little pet."

He lungesâ€”and Kai intercepts, tentacles clashing with tentacles, bioluminescence flaring like lightning.

"Get to the Shell!" Kai shouts. "Protect it!"

[[Run to the tide-pool|Ten Intimacy And Threat]]

:: Town Warning [ten]
<<passageimage "33_town_warning">>
<<set $belonging += 2>>

You runâ€”not away, but toward the town. Toward help.

The elder is the first to answer your pounding. He takes one look at your face and nods.

"Finally," he says. "I wondered when he'd show."

By the time you return to the tide-pool with torches and fishing spears and a group of sleepless townsfolk, the battle is already raging.

[[Join the fight|Ketsu Stand Together]]

:: Ten Intimacy And Threat [ten]
<<passageimage "34_ten_intimacy_and_threat">>
<<scenevideo "scene_9">>
<<set $currentBeat to 36>>
<<set $intimacy += 5>>
<<set $threat += 1>>
<<set $sanctuary -= 1>>

<<if $thresholdsReached.indexOf("HEAT_LEVEL_3") == -1 and $intimacy >= 12>>
	<<set $thresholdsReached.push("HEAT_LEVEL_3")>>
<</if>>

<<if $thresholdsReached.indexOf("SANCTUARY_CRISIS") == -1 and $sanctuary <= 3>>
	<<set $thresholdsReached.push("SANCTUARY_CRISIS")>>
<</if>>

<<if $thresholdsReached.indexOf("CONFRONTATION") == -1 and $threat >= 10>>
	<<set $thresholdsReached.push("CONFRONTATION")>>
<</if>>

The battle drives Thalos backâ€”temporarily. He retreats into the deep, wounded, promising return.

Kai leads you to the inner grotto. The place he's never shown anyone.

He's bleedingâ€”whatever monsters bleed. You tear strips from your shirt and try to tend the wounds. His skin is strange under your hands, but warm. Alive.

"The Shell," he gasps. He points to the center of the grotto, where something pulses with weak, flickering light.

The Lunar Shell. Beautiful. Dying.

"If he takes this, the cove dies. And I die with it."

You pull him close. His armsâ€”too many, then two againâ€”wrap around you.

What happens next is tender. Desperate. Real.

//Afterward://

You're still holding each other when his eyes snap open.

"He's coming back," Kai whispers. "Now."

<<if not $loopAttempts["intimacy_threat"]>><<set $loopAttempts["intimacy_threat"] to 0>><</if>>

[[We face him together. Now.|Ketsu Stand Together]]
[[Hide the Shellâ€”we can't let him find it|Hide Shell]]
[[There has to be another way. Talk to him.|Negotiate Thalos]]
<<if $loopAttempts["intimacy_threat"] < 3>>[[Stay here. Protect each other. Let the town fend for itself.|Intimacy Threat Loop]]<</if>>
<<if $intimacy >= 12 and $trust >= 10>>[["Bond with the Shell together"|Dual Bond]]<</if>>

:: Intimacy Threat Loop [ten]
<<passageimage "35_intimacy_threat_loop">>
<<set $loopAttempts["intimacy_threat"] += 1>>

<<if $loopAttempts["intimacy_threat"] == 1>>
Kai holds you closer.

"The diner. Marcus. The elder." He doesn't have to finish.
<<elseif $loopAttempts["intimacy_threat"] == 2>>
The Shell flickers. Somewhere above, glass breaks.

//The diner.//
<<else>>
"I can't lose you," you say.

"You won't," he answers. "But we have to go. Now."
<</if>>

<<if $loopAttempts["intimacy_threat"] >= 3>>
[[Go|Ketsu Stand Together]]
<<else>>
[[Face him together|Ketsu Stand Together]]
[[Stay|Intimacy Threat Loop]]
<</if>>

:: Hide Shell [ten]
<<passageimage "36_hide_shell">>
<<set $sanctuary += 1>>

"Help me move it," Kai says.

Together, you lift the Lunar Shellâ€”lighter than it looks, warm in your handsâ€”and carry it deeper into the grotto. Into a hidden alcove even Kai rarely visits.

"He'll sense it's gone," Kai warns. "But it buys us time."

[[Return to face Thalos|Ketsu Stand Together]]

:: Negotiate Thalos [ten]
<<passageimage "37_negotiate_thalos">>
<<set $trust += 1>>

"What if we talked to him? Made a deal?"

Kai looks at you like you've grown a second head. Then, slowly, something shifts in his expression.

"Thalos doesn't bargain. Butâ€”" He hesitates. "â€”maybe a human would be unexpected enough to buy us time."

[[Try to negotiate|Ketsu Stand Together]]

:: Dual Bond [ten]
<<passageimage "38_dual_bond">>
<<set $sanctuary += 3>>
<<set $revelation += 2>>

"There's one way to make it stronger," Kai says quietly. "But you'd be bound. To this place. To me. Forever."

He doesn't say: //to the monster world. To everything I am.//

"Do it."

His eyes widen. "Freddyâ€”"

"Do it."

What happens next changes everything.

[[Face Thalos as one|Ketsu Stand Together]]

:: Ketsu Stand Together [ketsu]
<<passageimage "39_ketsu_stand_together">>
<<scenevideo "scene_10">>
<<set $currentAct to "Ketsu">>
<<set $currentBeat to 42>>
<<set $trust += 2>>
<<set $belonging += 3>>
<<set $threat += 2>>

The storm breaks as you emerge from the grotto.

Thalos is waiting. Larger now, angrier. His tentacles churn the water, and his voice shakes the rocks.

"You think a human makes you strong, little guardian? You're weaker than ever."

Kai transforms. Fully. Terrifyingly. Beautiful.

"I fight for home."

The battle is violent, desperate, real. Kai moves like liquid death, tentacles against tentacles, bioluminescence clashing in the dark.

And youâ€”

<<if not $loopAttempts["stand_together"]>><<set $loopAttempts["stand_together"] to 0>><</if>>

[[Pour everything into the Shellâ€”strengthen it|Ketsu Thalos Defeated]]
[[Call out to Kaiâ€”distract Thalos at the critical moment|Ketsu Thalos Defeated Distract]]
[[Find a weaponâ€”anything to help|Freddy Fights]]
<<if $loopAttempts["stand_together"] < 3>>[[Freezeâ€”the violence is too much|Stand Together Loop]]<</if>>
<<if $belonging >= 10>>[[Rally the townâ€”they're already coming|Town Arrives]]<</if>>

:: Stand Together Loop [ketsu]
<<passageimage "40_stand_together_loop">>
<<set $loopAttempts["stand_together"] += 1>>

<<if $loopAttempts["stand_together"] == 1>>
Blood in the waterâ€”Kai's. He's still fighting.

//Move.//
<<elseif $loopAttempts["stand_together"] == 2>>
Thalos wraps a limb around Kai's throat.

Your legs unlock.
<<else>>
You scream his name. The Shell blazes.

And you runâ€”toward them, not away.
<</if>>

<<if $loopAttempts["stand_together"] >= 3>>
[[Help him|Ketsu Thalos Defeated]]
<<else>>
[[Help the Shell|Ketsu Thalos Defeated]]
[[Keep watching|Stand Together Loop]]
<</if>>

:: Town Arrives [ketsu]
<<passageimage "41_town_arrives">>
<<set $belonging += 3>>

Torches on the boardwalk.

Marcus. The elder. The teen with the sketchbook. Others you barely knowâ€”fishermen, insomniacs, the woman who runs the bait shop.

They came.

"Told you," Marcus shouts over the wind. "Different isn't bad!"

Thalos's attention fractures. Too many targets. Too much resistance.

And in that moment, Kai strikes.

[[The tide turns|Ketsu Thalos Defeated]]

:: Freddy Fights [ketsu]
<<passageimage "42_freddy_fights">>
<<set $belonging += 1>>

You grab a piece of driftwood. It's not much, but it's something.

When Thalos lunges for Kai's back, you swing. Hard. The wood splinters against ancient hide, but it's enoughâ€”enough to distract. Enough for Kai to counter.

"Freddy!"

"I know! I know, it was stupid!"

But you're both still alive.

[[Continue fighting|Ketsu Thalos Defeated]]

:: Ketsu Thalos Defeated Distract [ketsu]
<<passageimage "43_ketsu_thalos_defeated_distract">>
<<set $trust += 1>>

"KAI! NOW!"

Your voice cuts through the storm. Thalos turns, just for a second.

A second is all Kai needs.

[[The finishing blow|Ketsu Thalos Defeated]]

:: Ketsu Thalos Defeated [ketsu]
<<passageimage "44_ketsu_thalos_defeated">>
<<scenevideo "scene_11">>
<<set $currentBeat to 45>>
<<set $threat -= 8>>
<<set $sanctuary += 7>>
<<set $trust += 2>>
<<set $intimacy += 2>>

The Shell blazes.

Not with Kai's power aloneâ€”with something else. Something warmer. The bond between you, feeding into the light.

Thalos feels it. You can see it in his eyesâ€”recognition. Fear.

"This isn't over, little guardian." His voice is smaller now. Weaker.

"Yes," Kai says. "It is."

Thalos sinks into the depths. Retreating. Beaten.

Kai's transformation recedes. He stumbles, and you catch him.

"You stayed," he whispers.

"Of course I stayed."

You hold him in the shallow water as the storm breaks overhead and the Lunar Shell pulses steady and bright.

[[Rest together|Ketsu Community Scene]]
[[Check the Shell firstâ€”make sure it's safe|Shell Restored]]
[[Kiss himâ€”words can wait|Post Battle Kiss]]
[["What did he mean, this isn't over?"|Sequel Hook]]

:: Shell Restored [ketsu]
<<passageimage "45_shell_restored">>
<<set $sanctuary += 1>>

The Lunar Shell pulses with renewed strength. Not just blue nowâ€”amber threads run through the light. Something new.

"It recognized you," Kai says softly. "When you touched it during the fight. It knows you now."

"What does that mean?"

He almost smiles. "It means the sanctuary has two guardians now."

[[Continue|Ketsu Community Scene]]

:: Post Battle Kiss [ketsu]
<<passageimage "46_post_battle_kiss">>
<<set $intimacy += 2>>

You don't say anything. You just pull him close and kiss himâ€”salt water and strange warmth and something that tastes like home.

He makes a sound against your mouth. Surprise, maybe. Or relief.

When you finally pull apart, he's looking at you like you're the most miraculous thing in the ocean.

"Stay?" he asks.

"Forever."

[[Continue|Ketsu Community Scene]]

:: Sequel Hook [ketsu]
<<passageimage "47_sequel_hook">>
<<set $revelation += 1>>

"There are others like him," Kai admits. "Out in the deep. Some worse. Someâ€”" He hesitates. "â€”different."

"Will they come?"

"Eventually. But not tonight." He pulls you closer. "Tonight, we rest."

//But you can't help wondering what else is out there.//

[[Continue|Ketsu Community Scene]]

:: Ketsu Community Scene [ketsu]
<<passageimage "48_ketsu_community">>
<<scenevideo "scene_12">>
<<set $currentBeat to 48>>
<<set $belonging += 4>>
<<set $trust += 2>>
<<set $intimacy += 2>>

<<if $thresholdsReached.indexOf("COMMUNITY_ACCEPTS") == -1 and $belonging >= 12>>
	<<set $thresholdsReached.push("COMMUNITY_ACCEPTS")>>
<</if>>

The day after the storm, the diner is packed.

Everyone checking on everyone. Stories being sharedâ€”exaggerated, probably, but not by much. The elder raises a glass of sea-glass tea.

"To guardians," he says. "All kinds."

Eyes turn to Kai, sitting in the back booth, still looking like he might bolt. Then Marcus slides an extra piece of pie in front of him.

"On the house. For, you know. Saving the town."

The teen with the sketchbook shows you a drawing: the tide-pool, two figures standing in the glow.

//Home,// you think. //This is home.//

That evening, the boardwalk festival lights twinkle against the dark water. You and Kai walk together through the crowd. People nod. Smile. Accept.

[[Take Kai's hand in front of everyone|Epilogue]]
[[Dance with him at the festival|Festival Dance]]
[[Thank the elderâ€”ask what he knows|Elder Truth]]
[[Just watchâ€”soak in belonging for once|Epilogue Watch]]

:: Festival Dance [ketsu]
<<passageimage "49_ketsu_community_silent">>
<<set $intimacy += 1>>

"Dance with me," you say.

"I don'tâ€”" He hesitates. "I don't know how. Not... human dances."

"Neither do I."

You pull him into the crowd anyway. What follows is graceless, awkward, and absolutely perfect.

[[Continue|Epilogue]]

:: Elder Truth [ketsu]
<<passageimage "49_ketsu_community_silent">>
<<set $revelation += 2>>

The elder finds you by the railing, watching the water.

"I've known about them for fifty years," he says without preamble. "The guardians. Kai's not the first I've met. Won't be the last."

"Why didn't you tell anyone?"

"Some things are better left to legend." He smiles. "Until the right person comes along to make them real."

[[Continue|Epilogue]]

:: Epilogue Watch [ketsu]
<<passageimage "49_ketsu_community_silent">>

You find a quiet spot on the boardwalk. Kai sits beside you, close enough to touch.

For once, you don't need words. You just watch the festival lights reflect on the water, the Shell's glow pulsing in the distance.

//Belonging,// you realize. //This is what it feels like.//

[[Continue|Epilogue]]

:: Epilogue [epilogue]
<<passageimage "50_ketsu_epilogue">>
<<scenevideo "scene_13">>
<<set $currentBeat to 51>>
<<set $sanctuary to 10>>
<<set $belonging to 15>>
<<set $intimacy to 15>>

//A season later.//

The grotto is different now. Brighter. Warmer. Alive in ways it wasn't before.

Kai leads you down the stairsâ€”your stairs now, worn smooth by your footsteps as much as his. The Shell pulses at the center of the chamber, threads of amber woven through the blue.

"It changed when you touched it," he says. "It recognized you."

He pulls you down beside the water, and for a long time you just sit there together. Listening to the tide. Watching the light.

"What happens next?" you ask.

He's quiet for a moment.

[["This is home now. Ours."|Ending HEA]]
[["What happens next?"|Ending HFN]]
[["Show me everything. The whole ocean."|Ending Adventure]]

:: Ending HEA [ending]
<<passageimage "51_ending_human">>

"This," Kai says. "Just this. For as long as we want."

//The tide rises and falls. The diner opens at midnight. The guardian watches the water, and his human watches him.//

//Starlight Cove has two protectors now. And in the grotto, the Shell glows with the color of love found and kept.//

<div class="ending">
''THE END''
//Happily Ever After//

<div class="stats">
''Final Axes:''
Belonging: $belonging | Trust: $trust | Revelation: $revelation
Intimacy: $intimacy | Threat: $threat | Sanctuary: $sanctuary

''Thresholds Reached:'' $thresholdsReached.length
</div>
</div>

:: Ending HFN [ending]
<<passageimage "52_ending_merged">>

Kai's smile holds secretsâ€”but the good kind now.

"We'll see," he says. "There's always more to discover."

The Shell pulses. Out in the deep, something stirs. But tonight, the tide is quiet.

Tonight, you rest.

//Whatever comes, you'll face it together.//

<div class="ending">
''THE END''
//Happy For Now//

<div class="stats">
''Final Axes:''
Belonging: $belonging | Trust: $trust | Revelation: $revelation
Intimacy: $intimacy | Threat: $threat | Sanctuary: $sanctuary

''Thresholds Reached:'' $thresholdsReached.length
</div>
</div>

:: Ending Adventure [ending]
<<passageimage "53_ending_monster">>

Kai laughsâ€”and for the first time, he looks truly //free//.

"Everything," he promises.

He takes your hand. Together, you slip into the water.

The grotto fades behind you. Ahead: the deep, the unknown, the creatures waiting to meet the guardian's human.

//The adventure is just beginning.//

<div class="ending">
''THE END''
//...or is it?//

<div class="stats">
''Final Axes:''
Belonging: $belonging | Trust: $trust | Revelation: $revelation
Intimacy: $intimacy | Threat: $threat | Sanctuary: $sanctuary

''Thresholds Reached:'' $thresholdsReached.length
</div>
</div>

:: StoryStylesheet [stylesheet]
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MIDNIGHT AT STARLIGHT COVE - Responsive Theme
   Mobile-first, WCAG 3 compliant, Progressive Reveal
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* Base Styles */
body {
  background: #0a1628 url('https://xierykaufosmdkcxzfex.supabase.co/storage/v1/object/public/midnight-background-images/bg_starlight_cove_2_1768178832750.png') center center / cover fixed;
  color: #e8f1f8;
  font-family: 'Georgia', serif;
  line-height: 1.6;
  min-height: 100vh;
}

/* Reduce paragraph and line break spacing */
.passage p {
  margin: 0 0 0.75rem 0;
}

.passage br {
  display: block;
  content: '';
  margin-top: 0.4rem;
}

/* Consecutive br tags - reduce even further */
.passage br + br {
  margin-top: 0.2rem;
}

#story {
  max-width: 42rem;
  margin: 0 auto;
  padding: 1rem;
}

@media (min-width: 480px) {
  #story { padding: 1.5rem; }
}

@media (min-width: 720px) {
  #story { padding: 2rem; }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   BUTTON-STYLE CHOICES
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.passage a {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #e8f1f8;
  background: linear-gradient(135deg, #1a3a5c 0%, #0d2944 100%);
  border: 1px solid #3d6a8f;
  border-radius: 8px;
  padding: 0.75rem 1.25rem;
  margin: 0.25rem 0.25rem 0.25rem 0;
  min-height: 44px;
  min-width: 44px;
  text-decoration: none;
  text-align: center;
  font-size: 1rem;
  line-height: 1.3;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.passage a:hover {
  background: linear-gradient(135deg, #2a5a8c 0%, #1a4a6c 100%);
  border-color: #5fa8d3;
  color: #9dd9f3;
  box-shadow: 0 4px 16px rgba(93, 168, 211, 0.3);
  transform: translateY(-1px);
}

.passage a:focus {
  outline: 2px solid #5fa8d3;
  outline-offset: 2px;
}

.passage a:active {
  transform: translateY(0);
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   COLLAPSIBLE MEDIA CAROUSEL
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.media-carousel {
  background: rgba(13, 27, 42, 0.8);
  border: 1px solid #2d4a6f;
  border-radius: 8px;
  margin-bottom: 1.5rem;
  overflow: hidden;
}

.media-toggle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  cursor: pointer;
  color: #9dd9f3;
  font-size: 0.95rem;
  background: rgba(26, 58, 92, 0.5);
  border-bottom: 1px solid transparent;
  transition: background 0.2s;
  list-style: none;
}

.media-toggle::-webkit-details-marker { display: none; }

.media-toggle::before {
  content: 'â–¶';
  font-size: 0.7rem;
  transition: transform 0.2s;
}

.media-carousel[open] .media-toggle::before {
  transform: rotate(90deg);
}

.media-toggle:hover {
  background: rgba(45, 74, 111, 0.6);
}

.media-carousel[open] .media-toggle {
  border-bottom-color: #2d4a6f;
}

.media-carousel-inner {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 1rem;
  max-height: 70vh;
  overflow-y: auto;
}

/* Side-by-side on larger screens */
@media (min-width: 600px) {
  .media-carousel-inner {
    flex-direction: row;
    flex-wrap: wrap;
  }
  .media-item {
    flex: 1 1 280px;
    max-width: calc(50% - 0.375rem);
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MEDIA ITEMS (Image & Video)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.media-item {
  margin: 0;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.4);
}

.passage-image,
.scene-video {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 8px;
}

.scene-video {
  background: #000;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NPE DASHBOARD
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.npe-dashboard {
  background: rgba(26, 39, 68, 0.8);
  border: 1px solid #2d4a6f;
  border-radius: 8px;
  padding: 0.75rem 1rem;
  margin-bottom: 1rem;
  font-size: 0.85em;
}

.axis-display {
  margin-top: 0.5rem;
  font-size: 0.8em;
  color: #9bb8d3;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ENDINGS & STATS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.ending {
  text-align: center;
  margin-top: 2rem;
  padding: 1.5rem;
  background: rgba(26, 39, 68, 0.6);
  border-radius: 12px;
}

.stats {
  margin-top: 1.5rem;
  font-size: 0.8em;
  color: #7a9cb8;
}

em, i {
  color: #9dd9f3;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ACCESSIBILITY
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* Reduced motion: hide autoplay indication */
@media (prefers-reduced-motion: reduce) {
  .scene-video {
    opacity: 0.8;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  body {
    background: #000;
    color: #fff;
  }
  .passage a {
    border-width: 2px;
    border-color: #fff;
  }
}

/* Focus visible for keyboard users */
.passage a:focus-visible {
  outline: 3px solid #5fa8d3;
  outline-offset: 3px;
}

/* Skip link (add to StoryInterface if desired) */
.skip-link {
  position: absolute;
  top: -100px;
  left: 0;
  background: #5fa8d3;
  color: #0a1628;
  padding: 0.5rem 1rem;
  z-index: 1000;
}

.skip-link:focus {
  top: 0;
}
